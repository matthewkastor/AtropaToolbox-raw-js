<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - node_modules\atropa-inject\src\atropa-inject.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>node_modules\atropa-inject\src\atropa-inject.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">62.08</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">262</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">20.58</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">0.56</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">/// &lt;reference path=&quot;../docs/vsdoc/OpenLayersAll.js&quot;/&gt;
var atropa = require(&#039;atropa-header&#039;);
atropa.setAsOptionalArg = require(&#039;atropa-setAsOptionalArg&#039;).setAsOptionalArg;
/*jslint
    indent: 4,
    maxerr: 50,
    white: true,
    browser: true,
    devel: true,
    plusplus: true,
    regexp: true
*/
/*global atropa */
// end header


atropa.requires(
    &#039;inject&#039;,
    function () {
        &quot;use strict&quot;;
        if(document.createElement === undefined) {
            return false;
        }
        return true;
    }
);

/**
 * Contains tools for injecting elements and assemblies.
 * into the page.
 * @author &lt;a href=&quot;mailto:matthewkastor@gmail.com&quot;&gt;
 *  Matthew Christopher Kastor-Inare III &lt;/a&gt;&lt;br /&gt;
 *  ☭ Hial Atropa!! ☭
 * @version 20130308
 * @namespace Contains tools for injecting elements and assemblies.
 * @requires atropa.data
 * @requires atropa.supportCheck
 * @requires atropa.setAsOptionalArg
 */
atropa.inject = {};
/**
 * Generic Element Injector.
 * @author &lt;a href=&quot;mailto:matthewkastor@gmail.com&quot;&gt;
 *  Matthew Christopher Kastor-Inare III &lt;/a&gt;&lt;br /&gt;
 *  ☭ Hial Atropa!! ☭
 * @version 20120909
 * @param {String} elementType The type of element to be injected.
 * @param {HTML DOM Document} docref Optional. A reference to the document to
 *  target, defaults to &lt;code&gt;document&lt;/code&gt;.
 * @param {DOM Node} parentNod Optional. A reference to the parent node to
 *  target, defaults to &lt;code&gt;docref.body&lt;/code&gt;.
 * @param {Object} attributes Optional. An object whose properties are names of
 *  HTML attributes, defaults to &lt;code&gt;{}&lt;/code&gt;. The value of these properties
 *  are to be strings representing the values of the HTML attributes as they are
 *  to be applied to the injected element.
 * @example Example attributes object :
 *
 * attributesObj = {
 *     &quot;id&quot; : &quot;elementID&quot;,
 *     &quot;class&quot; : &quot;classy&quot;
 * };
 * @param {Function} onloadHandler Optional. If the element being injected will
 *  fire a load event, this function will be called. Defaults to
 *  &lt;code&gt;function () {}&lt;/code&gt;.
 * @param {Function} callback Optional. This function will be called just before
 *  the element is to be appended to the page. The callback will receive the
 *  element in its current state for any additional processing to be done prior
 *  to it&#039;s attachment on callback completion. Defaults to
 *  &lt;code&gt;function () {}&lt;/code&gt;.
 * @return {HTML Element} Returns a reference to the HTML Element created and
 *  injected.
 * @see &lt;a href=&quot;http://www.w3.org/Security/wiki/Same_Origin_Policy&quot;&gt;
 * http://www.w3.org/Security/wiki/Same_Origin_Policy&lt;/a&gt;
 * @example
 *  // this will inject a div element into the document body.
 *  var el = atropa.inject.element (&#039;div&#039;);
 *  
 *  // This will inject a div with the id &quot;myId&quot; into the element referenced by
 *  // &quot;container&quot;
 *  var el = atropa.inject.element (
 *      &#039;div&#039;, document, container, { &#039;id&#039;: &#039;myId&#039; }, null, null
 *  );
 *  
 *  // this will inject a div into the document of an iframe referenced with &quot;fdoc&quot;
 *  // Just before the div is injected the callback will be called and the element
 *  // may be augmented. When the callback returns the element will be injected.
 *  var fdoc = document.getElementById(&#039;someFrame&#039;).contentWindow.document;
 *  
 *  var el = atropa.inject.element (
 *      &#039;div&#039;, fdoc, fdoc.body, { &#039;id&#039;: &#039;myId&#039; },
 *      null,
 *      function (myDiv) {
 *          myDiv.textContent = &#039;I could have attached event handlers&#039;;
 *      }
 *  );
 *  
 *  // this will inject an iframe into the document
 *  // once the iframe&#039;s document has finished loading the onload handler will be
 *  // called. If the document and the iframe are on the same domain, scripts on
 *  // the frame and the parent document will be able to commuincate with each
 *  // other.
 *  function iframeHasLoaded (message) {
 *      console.log(message);
 *  }
 *  
 *  var el = atropa.inject.element (
 *      &#039;iframe&#039;, document, document.body,
 *      { &#039;id&#039;: &#039;myId&#039;, &#039;src&#039; : &#039;http://localhost&#039; },
 *      function () {
 *          iframeHasLoaded(&#039;hey look at that, the frame is ready!&#039;);
 *          // what could I do with the frame? anything I want!
 *      },
 *      null
 *  );
 */
atropa.inject.element = function (
    elementType, docref, parentNod, attributes, onloadHandler, callback
) {
    &quot;use strict&quot;;
    atropa.supportCheck(&#039;inject&#039;);
    
    var el,
    x;
    docref = atropa.setAsOptionalArg(document, docref);
    parentNod = atropa.setAsOptionalArg(docref.body, parentNod);
    attributes = atropa.setAsOptionalArg({}, attributes);
    onloadHandler = atropa.setAsOptionalArg(atropa.nop, onloadHandler);
    callback = atropa.setAsOptionalArg(atropa.nop, callback);
    
    el = docref.createElement(elementType);
    for (x in attributes) {
        if (attributes.hasOwnProperty(x)) {
            el.setAttribute(x, attributes[x]);
        }
    }
    el.addEventListener(&#039;load&#039;, onloadHandler, true);
    callback(el);
    parentNod.appendChild(el);
    return el;
};
/**
 * Hidden Iframe Injector.
 * @author &lt;a href=&quot;mailto:matthewkastor@gmail.com&quot;&gt;
 *  Matthew Christopher Kastor-Inare III &lt;/a&gt;&lt;br /&gt;
 *  ☭ Hial Atropa!! ☭
 * @version 20130308
 * @param {String} id The id of the element to be injected.
 * @param {String} srcUrl The URL to load in the iframe.
 * @param {HTML DOM Document} docref Optional. Reference to the document to
 *  inject the iframe in. Defaults to document.
 * @param {Function} onloadHandler Optional. The onload handler for the iframe.
 * @param {DOM Node} parentNod Optional. Referenct to the parent node to
 *  append the iframe to. Defaults to docref.body
 * @param {Function} callback Optional. Callback function for preprocessing
 *  the iframe prior to injection. Called with a reference to the iframe.
 * @return {HTML Element} Returns a reference to the HTML Element created and
 *  injected.
 * @see atropa.inject.element
 * @see &lt;a href=&quot;http://www.w3.org/Security/wiki/Same_Origin_Policy&quot;&gt;
 * http://www.w3.org/Security/wiki/Same_Origin_Policy&lt;/a&gt;
 * @example
 *  el = atropa.inject.hiddenFrame(
 *      &#039;injectHiddenFrame3&#039;,
 *      &#039;http://localhost/&#039;,
 *      null,
 *      function () {
 *          console.log(&#039;hey look at that, the frame is ready!&#039;);
 *      },
 *      null,
 *      null
 *  );
 */
atropa.inject.hiddenFrame = function (
    id, srcURL, docref, onloadHandler, parentNod, callback
) {
    &quot;use strict&quot;;
    atropa.supportCheck(&#039;inject&#039;);
    
    return atropa.inject.element(
        &#039;iframe&#039;,
        docref,
        parentNod,
        {
            &quot;id&quot; : id,
            &quot;src&quot; : srcURL,
            &quot;width&quot; : &quot;0px&quot;,
            &quot;height&quot; : &quot;0px&quot;,
            &quot;border&quot; : &quot;0px&quot;
        },
        onloadHandler,
        callback
    );
};
/**
 * Script Injector.
 * @author &lt;a href=&quot;mailto:matthewkastor@gmail.com&quot;&gt;
 *  Matthew Christopher Kastor-Inare III &lt;/a&gt;&lt;br /&gt;
 *  ☭ Hial Atropa!! ☭
 * @version 20120909
 * @param {String} id The id of the element to be injected.
 * @param {String} srcUrl The URL where the script is located.
 * @param {HTML DOM Document} docref Optional. The document to inject the
 *  script into. Defaults to document.
 * @param {Function} callback Optional. A function to execute once the script
 *  has loaded. Defaults to function () {};
 * @return {HTML Element} Returns a reference to the HTML Element created and
 *  injected.
 * @see atropa.inject.element
 * @see &lt;a href=&quot;http://www.w3.org/Security/wiki/Same_Origin_Policy&quot;&gt;
 * http://www.w3.org/Security/wiki/Same_Origin_Policy&lt;/a&gt;
 * @example
 *  // Given a script &quot;dummy.js&quot; located at &quot;http://localhost/dummy.js&quot;
 *  // you can fetch the script and execute functions from within it
 *  // as soon as it has loaded into the page.
 *  
 *  // contents of &quot;dummy.js&quot;
 *  function dummy() {
 *      return &#039;dummy&#039;;
 *  }
 *  
 *  // injecting &quot;dummy.js&quot; into any page. The script tag isn&#039;t restricted by
 *  // the same origin policy. Host your script anywhere and inject it to any
 *  // page on the net that you want to.
 *  el = atropa.inject.script(
 *      &#039;injectScript&#039;,
 *      &#039;http://localhost/&#039;,
 *      document,
 *      function () {
 *          console.log(dummy());
 *      }
 *  );
 *  // you may also load scripts into iframes by replacing the third parameter
 *  // with a reference to the iframe&#039;s document object.
 */
atropa.inject.script = function (id, srcURL, docref, callback) {
    &quot;use strict&quot;;
    atropa.supportCheck(&#039;inject&#039;);
    
    var attributes,
    elementType,
    parentNod = null,
    onloadHandler,
    el;
    attributes = {
        &quot;id&quot; : id,
        &quot;type&quot; : &quot;text/javascript&quot;,
        &quot;src&quot; : srcURL
    };
    elementType = &#039;script&#039;;
    onloadHandler = callback;
    el = atropa.inject.element(
        elementType, docref, parentNod, attributes, onloadHandler);
    return el;
};




while(atropa.data.requirements.length &gt; 0) {
    atropa.data.requirements.pop()();
}
module.exports = atropa;</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ cyclomatic }} <br>
    Length : {{ halstead.length }} <br>
    Difficulty : {{ halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
